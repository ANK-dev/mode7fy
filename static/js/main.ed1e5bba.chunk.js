(this.webpackJsonpmode7fy=this.webpackJsonpmode7fy||[]).push([[0],{19:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(7),r=n.n(c),h=(n(31),n(32),n(33),n(41)),d=n(3),s=function(){return Object(d.jsxs)(h.a,{bg:"dark",variant:"dark",expand:"lg",children:[Object(d.jsx)(h.a.Brand,{className:"font-italic mr-auto",children:"MODE7FY"}),Object(d.jsx)(h.a.Text,{children:Object(d.jsx)("a",{href:"https://github.com/ANK-dev",children:"by ANK-dev"})})]})},l=n(8),o=n(25),u=n(11),j=n(42),b=n(43),g=function(e){return Object(d.jsxs)(j.a.Group,{controlId:"".concat(e.name,"-range"),children:[Object(d.jsx)(j.a.Label,{children:e.label}),Object(d.jsx)("p",{id:"".concat(e.name,"-range-value"),children:e.value}),Object(d.jsx)(j.a.Control,{type:"range",name:"".concat(e.name,"-range"),min:e.min,max:e.max,value:e.value,onChange:e.onChange})]})},x=(n(19),function(e){var t=e.state,n=t.height,a=t.width,i=t.zDepth,c=t.scaleX,r=t.scaleY,h=t.angle,s=e.setState,o=e.resetState,x=function(e,t){s((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(u.a)({},t,e.target.valueAsNumber))}))};return Object(d.jsxs)("div",{id:"Mode7Controls",children:[Object(d.jsx)("h4",{children:"Controls"}),Object(d.jsxs)(j.a,{children:[Object(d.jsx)(g,{label:"Z Depth",name:"z-depth",min:1,max:500,value:i,onChange:function(e){return x(e,"zDepth")}}),Object(d.jsx)(g,{label:"Height",name:"height",min:100,max:1e3,value:n,onChange:function(e){return x(e,"height")}}),Object(d.jsx)(g,{label:"Width",name:"width",min:100,max:1e3,value:a,onChange:function(e){return x(e,"width")}}),Object(d.jsx)(g,{label:"Scale X",name:"scale-x",min:1,max:64,value:c,onChange:function(e){return x(e,"scaleX")}}),Object(d.jsx)(g,{label:"Scale Y",name:"scale-y",min:1,max:64,value:r,onChange:function(e){return x(e,"scaleY")}}),Object(d.jsx)(g,{label:"Rotation Angle",name:"angle",min:0,max:360,value:h,onChange:function(e){return x(e,"angle")}})]}),Object(d.jsx)(b.a,{onClick:o,children:"Reset"})]})}),m=n(16),O=n.n(m),f=n(22);function v(){return(v=Object(f.a)(O.a.mark((function e(t){var n,a,i,c,r,h,d,s,l,o,u,j,b,g,x,m,f,v;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Image).src="./texture2.png",e.next=4,n.decode();case 4:(a=document.createElement("canvas")).width=n.naturalWidth,a.height=n.naturalHeight,null===(i=a.getContext("2d"))||void 0===i||i.drawImage(n,0,0,n.width,n.height),c=document.getElementById("main-canvas"),r=null===c||void 0===c?void 0:c.getContext("2d"),c.height=t.height,c.width=t.width,h=0,d=0,s=-1*t.zDepth,l=t.scaleX,o=t.scaleY,u=0,j=0,b=t.angle,g=Math.cos(b*(Math.PI/180)),x=Math.sin(b*(Math.PI/180)),m=null===r||void 0===r?void 0:r.getImageData(0,0,c.width,c.height),f=null===m||void 0===m?void 0:m.data,v=null===i||void 0===i?void 0:i.getImageData(0,0,n.width,n.height).data,d=0;case 27:if(!(d<c.height)){e.next=58;break}h=0;case 29:if(!(h<c.width)){e.next=54;break}if(!(s<0)){e.next=36;break}return f[4*(d*c.width+h)+0]=0,f[4*(d*c.width+h)+1]=204,f[4*(d*c.width+h)+2]=255,f[4*(d*c.width+h)+3]=255,e.abrupt("continue",51);case 36:j=((c.width-h)*g-h*x)/s,u=((c.width-h)*x+h*g)/s,j<0&&(j*=-1),u<0&&(u*=-1),j*=o,u*=l,j%=n.height,u%=n.width,(isNaN(u)||isNaN(j))&&(u=0,j=0),u=Math.floor(u),j=Math.floor(j),f[4*(d*c.width+h)+0]=v[4*(j*n.width+u)+0],f[4*(d*c.width+h)+1]=v[4*(j*n.width+u)+1],f[4*(d*c.width+h)+2]=v[4*(j*n.width+u)+2],f[4*(d*c.width+h)+3]=v[4*(j*n.width+u)+3];case 51:h++,e.next=29;break;case 54:s++;case 55:d++,e.next=27;break;case 58:null===r||void 0===r||r.putImageData(m,0,0);case 59:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){return Object(a.useEffect)((function(){!function(e){v.apply(this,arguments)}(e.state)}),[e]),Object(d.jsx)("div",{id:"Mode7Canvas",children:Object(d.jsx)("canvas",{id:"main-canvas",width:window.innerWidth,height:window.innerHeight})})},p=n(23),C=n(24),k=n(10),I=function(){var e={height:240,width:320,zDepth:100,scaleX:16,scaleY:16,angle:45},t=Object(a.useState)(Object(l.a)({},e)),n=Object(o.a)(t,2),i=n[0],c=n[1];return Object(d.jsx)("div",{id:"Mode7",children:Object(d.jsx)(p.a,{fluid:!0,children:Object(d.jsxs)(C.a,{children:[Object(d.jsx)(k.a,{md:2,id:"sidebar",children:Object(d.jsx)(x,{state:i,setState:c,resetState:function(){return c((function(t){return Object(l.a)({},e)}))}})}),Object(d.jsx)(k.a,{id:"main-area",children:Object(d.jsx)(w,{state:i})})]})})})};var M=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(s,{}),Object(d.jsx)(I,{})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root")),D()}},[[39,1,2]]]);
//# sourceMappingURL=main.ed1e5bba.chunk.js.map
(this.webpackJsonpmode7fy=this.webpackJsonpmode7fy||[]).push([[0],{20:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(8),r=n.n(c),s=(n(31),n(6)),o=n(12),d=(n(32),n(41)),h=n(43),l=(n(33),n(2)),u=function(e){return Object(l.jsxs)(d.a,{bg:"dark",variant:"dark",expand:"lg",sticky:"top",children:[e.sidebarState.open?Object(l.jsx)(h.a,{id:"menu",onClick:e.toggleSidebar,children:"\xd7"}):Object(l.jsx)(h.a,{id:"menu",onClick:e.toggleSidebar,children:"+"}),Object(l.jsx)(d.a.Brand,{className:"font-italic mr-auto",children:"MODE7FY"}),Object(l.jsx)(d.a.Text,{children:Object(l.jsx)("a",{href:"https://github.com/ANK-dev",children:"by ANK-dev"})})]})},j=n(11),b=n(42),f=function(e){return Object(l.jsxs)(b.a.Group,{controlId:"".concat(e.name,"-range"),children:[Object(l.jsx)(b.a.Label,{children:e.label}),Object(l.jsx)("p",{id:"".concat(e.name,"-range-value"),children:e.value}),Object(l.jsx)(b.a.Control,{type:"range",name:"".concat(e.name,"-range"),min:e.min,max:e.max,value:e.value,onChange:e.onChange})]})},g=(n(20),function(e){var t=e.state,n=t.height,a=t.width,i=t.zDepth,c=t.scaleX,r=t.scaleY,o=t.angle,d=t.offsetX,u=t.offsetY,g=e.setState,x=e.resetState,m=function(e,t){g((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(j.a)({},t,e.target.valueAsNumber))}))};return Object(l.jsxs)("div",{id:"Mode7Controls",children:[Object(l.jsx)("h4",{children:"Controls"}),Object(l.jsxs)(b.a,{children:[Object(l.jsx)(f,{label:"Z Depth",name:"z-depth",min:-500,max:500,value:i,onChange:function(e){return m(e,"zDepth")}}),Object(l.jsx)(f,{label:"Height",name:"height",min:100,max:1e3,value:n,onChange:function(e){return m(e,"height")}}),Object(l.jsx)(f,{label:"Width",name:"width",min:100,max:1e3,value:a,onChange:function(e){return m(e,"width")}}),Object(l.jsx)(f,{label:"Scale X",name:"scale-x",min:1,max:64,value:c,onChange:function(e){return m(e,"scaleX")}}),Object(l.jsx)(f,{label:"Scale Y",name:"scale-y",min:1,max:64,value:r,onChange:function(e){return m(e,"scaleY")}}),Object(l.jsx)(f,{label:"Rotation Angle",name:"angle",min:0,max:360,value:o,onChange:function(e){return m(e,"angle")}}),Object(l.jsx)(f,{label:"Offset X",name:"offset-x",min:0,max:360,value:d,onChange:function(e){return m(e,"offsetX")}}),Object(l.jsx)(f,{label:"Offset Y",name:"offset-y",min:0,max:360,value:u,onChange:function(e){return m(e,"offsetY")}})]}),Object(l.jsx)(h.a,{onClick:x,children:"Reset"})]})}),x=n(17),m=n.n(x),O=n(23);function v(){return(v=Object(O.a)(m.a.mark((function e(t){var n,a,i,c,r,s,o,d,h,l,u,j,b,f,g,x,O,v,w,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Image).src="./texture2.png",e.next=4,n.decode();case 4:(a=document.createElement("canvas")).width=n.naturalWidth,a.height=n.naturalHeight,null===(i=a.getContext("2d"))||void 0===i||i.drawImage(n,0,0,n.width,n.height),c=document.getElementById("main-canvas"),r=null===c||void 0===c?void 0:c.getContext("2d"),c.height=t.height,c.width=t.width,s=0,o=0,d=t.zDepth,h=t.scaleX,l=t.scaleY,u=0,j=0,b=t.offsetX,f=t.offsetY,g=t.angle-45,x=Math.cos(g*(Math.PI/180)),O=Math.sin(g*(Math.PI/180)),v=null===r||void 0===r?void 0:r.getImageData(0,0,c.width,c.height),w=null===v||void 0===v?void 0:v.data,p=null===i||void 0===i?void 0:i.getImageData(0,0,n.width,n.height).data,o=0;case 29:if(!(o<c.height)){e.next=62;break}s=0;case 31:if(!(s<c.width)){e.next=58;break}if(!(d<0)){e.next=38;break}return w[4*(o*c.width+s)+0]=0,w[4*(o*c.width+s)+1]=204,w[4*(o*c.width+s)+2]=255,w[4*(o*c.width+s)+3]=255,e.abrupt("continue",55);case 38:j=((c.width-s)*x-s*O)/d,u=((c.width-s)*O+s*x)/d,j<0&&(j*=-1),u<0&&(u*=-1),j*=l,u*=h,j+=f,u+=b,j%=n.height,u%=n.width,(isNaN(u)||isNaN(j))&&(u=0,j=0),u=Math.floor(u),j=Math.floor(j),w[4*(o*c.width+s)+0]=p[4*(j*n.width+u)+0],w[4*(o*c.width+s)+1]=p[4*(j*n.width+u)+1],w[4*(o*c.width+s)+2]=p[4*(j*n.width+u)+2],w[4*(o*c.width+s)+3]=p[4*(j*n.width+u)+3];case 55:s++,e.next=31;break;case 58:d++;case 59:o++,e.next=29;break;case 62:null===r||void 0===r||r.putImageData(v,0,0);case 63:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){return Object(a.useEffect)((function(){!function(e){v.apply(this,arguments)}(e.state)}),[e]),Object(l.jsx)("div",{id:"Mode7Canvas",children:Object(l.jsx)("canvas",{id:"main-canvas",width:window.innerWidth,height:window.innerHeight})})},p=n(24),C=n(25),S=n(10),k=function(e){var t={height:240,width:320,zDepth:-50,scaleX:16,scaleY:16,angle:0,offsetX:0,offsetY:0},n=Object(a.useState)(Object(s.a)({},t)),i=Object(o.a)(n,2),c=i[0],r=i[1];return Object(l.jsx)("div",{id:"Mode7",children:Object(l.jsx)(p.a,{fluid:!0,children:Object(l.jsxs)(C.a,{children:[e.sidebarState.open&&Object(l.jsx)(S.a,{md:2,id:"sidebar",children:Object(l.jsx)(g,{state:c,setState:r,resetState:function(){return r((function(e){return Object(s.a)({},t)}))}})}),Object(l.jsx)(S.a,{id:"main-area",children:Object(l.jsx)(w,{state:c})})]})})})},y=function(){var e=Object(a.useState)(Object(s.a)({},{open:!0})),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{sidebarState:n,toggleSidebar:function(){i((function(e){return{open:!e.open}}))}}),Object(l.jsx)(k,{sidebarState:n})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),I()}},[[39,1,2]]]);
//# sourceMappingURL=main.d6f19e1c.chunk.js.map